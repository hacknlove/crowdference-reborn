<template name="menuVerClip">
  <div class="fondo fondoDeMenu fade close"></div>
  <div class="menu fade close">
    {{#if miClip url}}
    {{#if llaves}}
    <div class="openWindow" data-_id="llaves" data-url="{{url}}"><i class="fas fa-key"></i> Llaves</div>
    {{else}}
    <div class="olvidar"><i class="fas fa-unlink"></i> Olvidar</div>
    {{/if}}
    {{else}}
    <div class="recordar"><i class="fas fa-paperclip"></i> Recordar</div>
    <hr>
    {{/if}}
    <div class="compartir"><i class="fas fa-share-alt"></i> Compartir</div>
    <div class="close openWindow" data-_id="agregarEnlace" data-link="" data-url="{{url}}"><i class="fas fa-plus"></i> Agregar</div>
    <div class="salir"><i class="fas fa-arrow-left"></i> Atrás</div>
  </div>
</template>

<template name="verClip">
  <div class="fade lista">
    <div class="cabecero">
      <h2>
        {{clip.titulo}}
      </h2>
      {{>hamburguesa menu="menuVerClip"}}
    </div>
    <div class="cuerpo">
      {{#if secreto url}}
          {{#each post in posts}}
            {{> adminPost post}}
          {{else}}
            <div class="ventana">
              <div class="cabecero">
                Clip vacío
              </div>
              <div class="cuerpo">
                Agrega publicaciones a tu clip.
              </div>
            </div>
          {{/each}}
      {{else}}
        {{#each post in posts}}
          {{> vistaPreviaPost post}}
        {{else}}
          <div class="ventana">
            <div class="cabecero">
              Clip vacío
            </div>
            <div class="cuerpo">
              Agrega publicaciones al clip.
            </div>
          </div>
        {{/each}}
      {{/if}}
    </div>
  </div>
</template>

<template name="vistaPreviaPost">
  <div class="ventana">
    <div class="cabecero">
      {{fecha timestamp}}
    </div>
    <div class="cuerpo">
      {{>previsualizacion this}}
    </div>
  </div>
</template>

<template name="adminPost">
  <div class="ventana">
    <div class="cabecero">
      {{fecha timestamp}} - {{status}}

      <i class="fas fa-bars"></i>
    </div>
    <div class="cuerpo">
      {{>previsualizacion this}}
      <div class="miniFondo">
        <div class="menu">
          {{#if comprobarStatus 'PENDIENTE'}}
          <div class="establecerStatus" data-status="OCULTO"><i class="fas fa-check"></i> Aprobar</div>
          <div class="establecerStatus" data-status="RECHAZADO"><i class="fas fa-ban"></i> Rechazar</div>
          {{/if}}
          {{#if comprobarStatus 'RECHAZADO'}}
          <div class="establecerStatus" data-status="OCULTO"><i class="fas fa-check"></i> Aprobar</div>
          <div class="eliminar"><i class="fas fa-trash"></i> Eliminar</div>
          {{/if}}
          {{#if comprobarStatus 'VISIBLE'}}
          <div class="establecerStatus" data-status="OCULTO"><i class="fas fa-eye-slash"></i> Ocultar</div>
          {{/if}}
          {{#if comprobarStatus 'OCULTO'}}
          <div class="establecerStatus" data-status="VISIBLE"><i class="fas fa-eye"></i> Mostrar</div>
          <div class="eliminar"><i class="fas fa-trash"></i> Eliminar</div>
          {{/if}}
          <div><i class="fas fa-sort"></i> Prioridad</div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="llaves">
  <div class="fondo fade"></div>
  <div class="ventana fade scrollable">
    <div class="cabecero">
      Llaves
      <i class="fas fa-times close"></i>
    </div>
    <div class="cuerpo">

      {{#if secreto}}
        <div class="informacion llave">
          <div>
            <h3>Llave de administración</h3>
            <p>
              Con esta llave se puede administrar el clip
            </p>
            <div class="iconera">
              <i class="fas fa-copy copiar" data-llave="secreto" title="copiar llave"></i>
              <i class="fas fa-trash olvidar" data-llave="secreto" title="olvidar llave"></i>
              {{#if seguridad}}
                <i class="fas fa-sync-alt revocar" data-llave="secreto" title="cambiar llave"></i>
              {{/if}}
            </div>
          </div>
        </div><br>
      {{/if}}
      {{#if seguridad}}
        <div class="informacion seguridad">
          <div>
            <h3>Llave de seguridad</h3>
            <p>
              Con esta llave se pueden revocar las llaves de administración y seguridad.
            </p>
            <div class="iconera">
              <i class="fas fa-copy copiar" data-llave="seguridad" title="copiar llave"></i>
              <i class="fas fa-trash olvidar" data-llave="seguridad" title="olvidar llave"></i>
              <i class="fas fa-sync-alt revocar" data-llave="seguridad" title="cambiar llave"></i>
            </div>
          </div>
        </div>
      {{/if}}
    </div>
    <div class="botonera">
      <button class="close">Hecho</button>
    </div>
  </div>
</template>
