<template name="menuVerClip">
  <div class="fondo fondoDeMenu fade close"></div>
  <div class="menu fade close">
    <div class="close openWindow" data-_id="agregarSocial" data-link="" data-url="{{url}}"><i class="fas fa-plus"></i> Agregar</div>
    <div class="compartir"><i class="fas fa-share-alt"></i> Compartir</div>
    <div class="salir"><i class="fas fa-times"></i> Salir de clip</div>
    <hr>
    {{#if miClip url}}
      <div class="openWindow" data-_id="llaves" data-url="{{url}}"><i class="fas fa-key"></i> Llaves</div>
      <div class="olvidar"><i class="fas fa-unlink"></i> Olvidar</div>
    {{else}}
      <div class="recordar"><i class="fas fa-paperclip"></i> Recordar</div>
    {{/if}}
  </div>
</template>

<template name="verClip">
  <div class="fade lista">
    <div class="cabecero">
      <h2>
        {{clip.titulo}}
      </h2>
      {{>hamburguesa menu="menuVerClip"}}
    </div>
    <div class="cuerpo">
      {{#if secreto url}}
          {{#each post in posts}}
            {{> adminPost post}}
          {{/each}}
        {{else}}
        {{#each post in posts}}
          {{> vistaPreviaPost post}}
        {{/each}}
      {{/if}}
      <button class="openWindow" data-_id="agregarSocial" data-link="" data-url="{{url}}" data-secreto="{{secreto url}}"><i class="fas fa-plus"></i> Agregar</button>
    </div>
  </div>
</template>

<template name="vistaPreviaPost">
  <div class="ventana">
    <div class="cabecero">
      {{fecha timestamp}}
    </div>
    <div class="cuerpo">
      {{>social this}}
    </div>
  </div>
</template>

<template name="adminPost">
  <div class="ventana">
    <div class="cabecero">
      {{fecha timestamp}} - {{status}}

      <i class="fas fa-bars"></i>
    </div>
    <div class="cuerpo">
      {{>social this}}
      <div class="miniFondo">
        <div class="menu">
          {{#if comprobarStatus 'PENDIENTE'}}
          <div class="establecerStatus" data-status="OCULTO"><i class="fas fa-check"></i> Aprobar</div>
          <div class="establecerStatus" data-status="RECHAZADO"><i class="fas fa-ban"></i> Rechazar</div>
          {{/if}}
          {{#if comprobarStatus 'RECHAZADO'}}
          <div class="establecerStatus" data-status="OCULTO"><i class="fas fa-check"></i> Aprobar</div>
          <div class="eliminar"><i class="fas fa-trash"></i> Eliminar</div>
          {{/if}}
          {{#if comprobarStatus 'VISIBLE'}}
          <div class="establecerStatus" data-status="OCULTO"><i class="fas fa-eye-slash"></i> Ocultar</div>
          {{/if}}
          {{#if comprobarStatus 'OCULTO'}}
          <div class="establecerStatus" data-status="VISIBLE"><i class="fas fa-eye"></i> Mostrar</div>
          <div class="eliminar"><i class="fas fa-trash"></i> Eliminar</div>
          {{/if}}
          <div><i class="fas fa-sort"></i> Prioridad</div>
        </div>
      </div>
    </div>
  </div>
</template>

<template name="llaves">
  <div class="fondo fade"></div>
  <div class="ventana fade scrollable">
    <div class="cabecero">
      Llaves
    </div>
    <div class="cuerpo">
      {{#if secreto}}
        <div class="informacion llave">
          <div>
            <p>
              <label>Llave de administraci贸n</label>
            </p>
            <button class="copiar" data-llave="secreto">Copiar <i class="fas fa-copy"></i></button>
            <button class="olvidar" data-llave="secreto">Olvidar <i class="fas fa-times"></i></button>
            <p>
              Con esta llave se puede administrar el clip
            </p>
          </div>
        </div><br>
      {{/if}}
      {{#if seguridad}}
        <div class="informacion seguridad">
          <div>
            <label>Llave de seguridad</label>
            <button class="copiar" data-llave="seguridad">Copiar <i class="fas fa-copy"></i></button>
            <button class="olvidar" data-llave="seguridad">Olvidar <i class="fas fa-times"></i></button>
            <button class="revocar" data-llave="secreto">Revocar llave de administraci贸n <i class="fas fa-key"></i></button>
            <button class="revocar" data-llave="seguridad">Revocar llave de seguridad <i class="fas fa-lock"></i></button>
            <p>
              Con esta llave se pueden revocar las llaves de administraci贸n y seguridad.
            </p>
          </div>
        </div>
      {{/if}}
      {{#unless seguridad}}{{#unless secreto}}
        <div class="informacion">
          <div>
            <p>
              No tienes ninguna llave de administraci贸n.
            </p>
          </div>
        </div>
      {{/unless}}{{/unless}}
    </div>
    <div class="botonera">
      <button class="close">Hecho</button>
    </div>
  </div>
</template>
